<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/px-card/px-card.html">
<link rel="import" href="../../bower_components/px-vis-timeseries/px-vis-timeseries.html">
<link rel="import" href="../../bower_components/px-rangepicker/px-rangepicker.html">
<link rel="import" href="../../bower_components/px-vis/px-vis-data.html">
<link rel="import" href="../../bower_components/px-vis/px-vis-data-converter.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<script type="text/javascript" src="../../bower_components/px/dist/px.min.js"></script>

<dom-module id="time-series-card">
  <template>
    <px-card header-text="Disputes by Regions - Time Series Chart">
      <!-- <px-vis-timeseries height="300" width="800" prevent-resize="true" selection-type="xy" enable-tooltip="true" register-location="both" chart-data='[{"x":1397177400000,"India":"0.0","America":"2.0"},{"x":1397228040000,"India":"0.897","America":"2.5"},{"x":1397248260000,"India":"1.0","America":"3.5"},{"x":1397291280000,"India":"2.0","America":"1.5"},{"x":1397318100000,"India":"1.5","America":"0.5"},{"x":1397342100000,"India":"3.0","America":"2.0"},{"x":1397390820000,"India":"0.897","America":"1.5"}]' include-all-series="true"></px-vis-timeseries> -->

      <px-vis-timeseries height="300" width="900" prevent-resize="true" selection-type="xy" register-location="top" chart-data='[ {"x":1451606400000,"India":"40","America":"50","Canada":"10","Europe":"10"},
{"x":1454284800000,"India":"70","America":"90","Canada":"40","Europe":"20"},
{"x":1456790400000,"India":"80","America":"30","Canada":"20","Europe":"80"},
{"x":1459468800000,"India":"87","America":"100","Canada":"60","Europe":"20"}, {"x":1462060800000,"India":"55","America":"42","Canada":"30","Europe":"20"},
{"x":1464739200000,"India":"30","America":"72","Canada":"50","Europe":"70"},
{"x":1467331200000,"India":"30","America":"32","Canada":"40","Europe":"80"},
{"x":1470009600000,"India":"10","America":"48","Canada":"50","Europe":"43"},
{"x":1472688000000,"India":"40","America":"44","Canada":"55","Europe":"67"},
{"x":1475280000000,"India":"67","America":"11","Canada":"60","Europe":"21"}, {"x":1477958400000,"India":"16","America":"41","Canada":"80","Europe":"30"},
{"x":1480550400000,"India":"21","America":"72","Canada":"71","Europe":"33"}
]' include-all-series="true"></px-vis-timeseries>

      <!-- <px-rangepicker
        id="rangepicker"
        range="{{range}}"
        date-format="YYYY/MM/DD"
        time-format="hh:mm:ss A"
        show-buttons="true">
      </px-rangepicker>
      <px-vis-timeseries
        id="timeSerie"
        options = '{
          "enableTooltip":true,
          "registerLocation":"none",
          "eventConfig": {
            "Recalibrate":{
              "color": "blue",
              "icon": "fa-camera",
              "type": "fa",
              "offset":[0,0]
            },
            "Fan start":{
              "color": "green",
              "icon": "\uf015",
              "type": "unicode",
              "offset":[1,0]
            },
            "Fan stop":{
              "color": "red",
              "icon": "\uf016",
              "type": "unicode",
              "offset":[0,-20]
            }
          },
          "thresholdData":[
            { "for":"y0", "type":"max", "value":35.4784 },
            { "for":"y0", "type":"min", "value":7.6531 },
            { "for":"y0", "type":"mean", "value":15.330657585139331 },
            { "for":"y1", "type":"mean", "value":75 },
            { "for":"", "type":"quartile", "value":17 }
          ],
          "showThresholdBox":false,
          "selectionType": "xAxis",
          "xAxisConfig": {
            "title": "Date",
            "tickFormat": "%b %d"
          },
          "yAxisConfig": {
            "title": "Hz"
          }
        }'
        series-config='[[seriesConfig]]'
        default-series-config='{
            "type": "line",
            "yAxisUnit": "Hz",
            "x": "TimeStamp",
            "xMin": "dynamic",
            "xMax": "dynamic",
            "yMin": 0,
            "yMax": "dynamic"
          }'
        chart-data="[[chartData]]"
        event-data="[[eventData]]"
        range="[[range]]"
        height="400">
      </px-vis-timeseries>
      <px-vis-data
        id = "seriesAjax"
        request-data = '[{
          "type":"line",
          "name":"mySeries",
            "url":"../../bower_components/px-demo-data/demo-data/aviation/delta-egt-cruise.json"
          },{
            "type":"line",
            "url":"../../bower_components/px-demo-data/demo-data/aviation/hpt-acc-position-cruise.json"
        }]'
        data-var="originalData"
        lists="append"
        response-data="{{originalData}}">
      </px-vis-data>
      <px-vis-data-converter
        data-key = "series"
        id-key = "name"
        original-data = '[[originalData]]'
        series-config="{{seriesConfig}}"
        chart-data="{{chartData}}">
      </px-vis-data-converter>
      <px-vis-data
        id = "eventAjax"
        request-data = '[{
            "url":"../../bower_components/px-demo-data/demo-data/aviation/delta-egt-cruise-events.json"
        }]'
        data-var="eventData"
        lists = "flat"
        response-data="{{eventData}}">
      </px-vis-data> -->

    </px-card>
  </template>
</dom-module>
<script>
Polymer({
  is: 'time-series-card',
  properties: {
    config: {
        type: Object
    }
  },

  ready: function(){
    var rangepicker = this.$.rangepicker,
        btnSnap = this.$.btnSnap,
        timeSerie = this.$.timeSerie;

    rangepicker.range = {
        "from":"2014-04-10T04:01:00.000Z",
        "to":"2015-04-01T20:42:00.000Z"
    };

  },

});
</script>
